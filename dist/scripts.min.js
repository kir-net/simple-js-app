const pokemonRepository=function(){const t=[],e="https://pokeapi.co/api/v2/pokemon/?limit=150";function o(e){(function(t){return"object"!=typeof t?(console.error("Error: Only objects can be added."),!1):"string"==typeof t.name||(console.error("Error: The new Pokemon's name must be a string."),!1)})(e)&&t.push(e)}function n(t){$(".modal-body").html("");const e=t.detailsUrl;return fetch(e).then(t=>t.json()).then(e=>{t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types}).catch(t=>console.error(t))}function a(t){const e=[];return t.forEach(t=>{e.push(t.type.name)}),e.join(", ")}function r(t){$(".modal-close").on("click",()=>{$("#modalContainer").removeClass("is-visible")}),$(".modal-title").text(t.name),$(".modal-body").html("").append($("<div>").append($("<img>").attr("src",t.imageUrl).attr("alt","Image of selected pokemon").addClass("modal-image","img-fluid")).append($("<table>").append($("<tr>").append($("<td>").addClass("emphasize").text("Height:")).append($("<td>").text(t.height))).append($("<tr>").append($("<td>").addClass("emphasize").text("Types:")).append($("<td>").text(a(t.types)))))).delay(100).hide().fadeIn(150),$("#modalContainer").addClass("is-visible")}function s(t){n(t).then(()=>{r(t)})}return{getAll:function(){return t},add:o,getByName:function(e){const o=t.filter(t=>t.name===e);return 0===o.length&&console.error(`Error: "${e}" is not in the List.`),o},addListItem:function(t){$("#pokemon-list").append($("<li>").addClass("col list-group-item").append($("<button>").text(t.name).addClass("list-item  btn  btn-primary").attr("data-toggle","modal").attr("data-target","#modalContainer").on("click",()=>{s(t)})))},loadList:function(){return fetch(e).then(t=>t.json()).then(t=>{t.results.forEach(t=>{o({name:t.name,detailsUrl:t.url})})}).catch(t=>console.error(t))},loadDetails:n,showDetails:s,extractTypes:a}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(t=>{pokemonRepository.addListItem(t)})});