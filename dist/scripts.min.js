const pokemonRepository=function(){let g=[];function a(){return g}function b(a){var b;("object"!=typeof(b=a)?(console.error("Error: Only objects can be added."),1):"string"!=typeof b.name&&(console.error("Error: The new Pokemon's name must be a string."),1))||g.push(a)}function c(a){$(".modal-body").html("");let b=a.detailsUrl;return fetch(b).then(a=>a.json()).then(b=>{a.imageUrl=b.sprites.other.home.front_default,a.height=b.height,a.types=b.types,a.base_experience=b.base_experience,a.abilities=b.abilities,a.forms=b.forms}).catch(a=>console.error(a))}function d(a){let b=[];return a.forEach(a=>{b.push(a.type.name)}),b.join(", ")}function e(a){let b=[];return a.forEach(a=>{b.push(a.ability.name)}),b.join(", ")}function f(a){c(a).then(()=>{var b;b=a,$(".modal-close").on("click",()=>{$("#modalContainer").removeClass("is-visible")}),$(".modal-title").text(b.name),$(".modal-body").html("").append($("<div>").append($("<img>").attr("src",b.imageUrl).attr("alt","Image of selected pokemon").addClass("modal-image","img-fluid")).append($("<table>").append($("<tr>").append($("<td>").addClass("emphasize").text("Height:")).append($("<td>").text(b.height))).append($("<tr>").append($("<td>").addClass("emphasize").text("Types:")).append($("<td>").text(d(b.types)))).append($("<tr>").append($("<td>").addClass("emphasize").text("Experience:")).append($("<td>").text(b.base_experience))).append($("<tr>").append($("<td>").addClass("emphasize").text("abilities:")).append($("<td>").text(e(b.abilities)))))).delay(10).hide().fadeIn(150),$("#modalContainer").addClass("is-visible")})}return{getAll:a,add:b,addListItem:function(a){$("#pokemon-list").append($("<li>").addClass("col list-group-item").append($("<button>").text(a.name).addClass("list-item  btn  btn-primary").attr("data-toggle","modal").attr("data-target","#modalContainer").on("click",()=>{f(a)})))},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=210").then(a=>a.json()).then(a=>{a.results.forEach(a=>{let c={name:a.name,detailsUrl:a.url};b(c)})}).catch(a=>console.error(a))},loadDetails:c,showDetails:f,extractTypes:d,extractAbilities:e}}();pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(a=>{pokemonRepository.addListItem(a)})})